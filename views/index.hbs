{{! views/index.hbs }}
{{#> layout}}
<main class="main-content">
  <section class="products-scroll">
    <h2>Best Sellers on Sale</h2>
    <div class="products-grid">
      {{#each products}}
      <a href="/products/{{this.prod_id}}" class="product-card">
        <div class="product-image">
          <img src="/img/{{this.image_main}}" alt="{{this.prod_name}}">
          {{#if this.image_hover}}
          <img src="/img/{{this.image_hover}}" class="hover">
          {{/if}}
          <button class="wishlist-btn">
            <svg viewBox="0 0 24 24" width="24" height="24">
              <path fill="currentColor" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
            </svg>
          </button>
        </div>
        <h3>{{this.prod_name}}</h3>
        <p class="price">${{this.price}}</p>
        {{#if color_hex}}
          <div class="color-option" style="--color: {{color_hex}};"></div>
        {{/if}}
        <a href="/sales/addToCart/{{this.prod_id}}" class="add-cart-btn">+ Bag</a>
      </a>
      {{/each}}
    </div>
  </section>

  <a href="/products?cat_id=1">
    <button class="cta-btn">Shop New Arrivals</button>
  </a>

  <section class="holiday-section">
    <div class="holiday-left">
      <img src="/img/NewtoPlayCarry.png" alt="New to Play Carry">
      <h3>New to Play Carry</h3>
      <button class="btn">Shop New Carry</button>
    </div>
    <div class="holiday-right">
      <img src="/img/MixMatchTrek.png" alt="Mix & Match TREK">
      <h3>Mix & Match TREK.</h3>
      <button class="btn">Build Your TREK. Bag</button>
    </div>
  </section>

  <section class="categories">
    <h2>Shop By Category</h2>
    <div class="category-grid">
      <div class="category-card">
        <img src="/img/ShopGoSeries.png" alt="Go Series">
        <button class="btn">Shop Go Series</button>
      </div>
      <div class="category-card">
        <img src="/img/NewAccessories.png" alt="Accessories">
        <button class="btn">New Accessories</button>
      </div>
      <div class="category-card">
        <img src="/img/NewEatDrink.png" alt="Eat & Drink">
        <button class="btn">New Eat & Drink</button>
      </div>
      <div class="category-card">
        <img src="/img/Wear.png" alt="Wear">
        <button class="btn">Wear</button>
      </div>
    </div>
  </section>

  <section class="big-picture-section">
    <div class="main-image">
      <img src="/img/OGO1.png" alt="Outfit Game On">
    </div>
    <div class="thumbnails">
      <img src="/img/OGO1.png">
      <img src="/img/OGO2.png">
      <img src="/img/OGO3.png">
      <img src="/img/OGO4.png">
    </div>
    <div class="description">
      <h3>Outfit Game On</h3>
      <p>Bounce into the weekend with our new 100% cotton Waffle Knit Tee's — 4 house-sports inspired colours with contrast colour cuffs and semi-fitted retro cut. Match with an Accordion Knit Stripe Bag to complete the look!</p>
    </div>
    <div class="counter">1 / 4</div>
  </section>

  <section class="personal-section">
    <div class="text-content">
      <h2>Make It Personal</h2>
      <p>Personalised gifts for everyone on your list, A–Z! Create one-of-a-kind gifts by adding your own fun words up to 5 characters long.</p>
      <button class="btn">Shop Personalisation</button>
    </div>
    <div class="image-content">
      <img src="/img/MakeitPersonal.png" alt="Personalisation">
    </div>
  </section>
</main>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const urlParams = new URLSearchParams(window.location.search);
    const catId = urlParams.get('cat_id');
    if (catId) {
      const select = document.querySelector('#cat-select');
      if (select) select.value = catId;
    }
  });
</script>
{{/layout}}